#!/bin/bash

# Set output file name
OUTPUT_FILE="book.pdf"

# Render book as PDF with Palatino-style theme
echo "Generating PDF with Palatino-style typography..."
echo "Font specifications:"
echo "- Chapter titles: 35pt bold serif"
echo "- H1: 20pt bold serif" 
echo "- H2: 18pt bold serif"
echo "- H3: 16pt bold serif"
echo "- Body text: 11pt serif, 1.15 line spacing"
echo "- Captions: 9pt italic serif"
echo "- Code: 10pt monospace"
echo ""

if asciidoctor-pdf book.adoc; then
  echo ""
  echo "‚úÖ PDF generated successfully: $OUTPUT_FILE"
  echo "üìñ Your book now uses professional Palatino-style typography!"
  echo "üìè All font sizes and spacing match your specifications"
else
  echo "‚ùå Error generating PDF"
  exit 1
fi

# Generate Word document
echo ""
echo "Generating Word document..."
asciidoctor -b docbook book.adoc -o book.xml
if [ $? -eq 0 ]; then
    pandoc book.xml -f docbook -t docx --reference-doc=template.docx -o book.docx
    if [ $? -eq 0 ]; then
        echo "‚úÖ Word document generated successfully: book.docx"
        rm book.xml  # Clean up intermediate file
    else
        echo "‚ùå Word document generation failed"
    fi
else
    echo "‚ùå DocBook conversion failed"
fi